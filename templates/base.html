{% load l10n %}
{% load static %}
{% load bootstrap5 %}

<!DOCTYPE html>
<html lang="fr">

<head>
  <!-- Métadonnées -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Horus Gestion{% endblock %}</title>

  <!-- Styles CSS -->
  <!-- Bootstrap CSS via CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Styles personnalisés -->
  <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>

<body>
  <!-- Notifications Messages -->
  {% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}" role="alert">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- Barre de navigation (si authentifié) -->
  {% if user.is_authenticated %}
  <header>
    {% include 'menu.html' %}
  </header>
  {% endif %}

  <!-- Barre de recherche -->
  <div class="container my-3">
    <form class="d-flex" method="get" action="{% url 'search' %}">
      <input class="form-control me-2" type="text" name="q" placeholder="Chercher client ou véhicule..." value="{{ query }}">
      <button class="btn btn-primary" type="submit">Chercher</button>
    </form>
  </div>

  <!-- Contenu principal -->
  <main class="container">
    {% block content %}
    {% endblock %}
  </main>

  <!-- Pied de page -->
  <footer class="bg-light text-center text-lg-start mt-5">
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2024 HORUS GLOBAL SERVICES
    </div>
  </footer>

  <!-- Scripts JavaScript -->
  <!-- Bootstrap Bundle (inclut Popper.js) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Rafraîchir la page
    function refreshPage() {
      window.location.reload();
    }
  </script>
</body>

</html>
